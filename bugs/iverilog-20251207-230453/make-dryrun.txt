if true && test -d ./.git; then \
    echo "Using git-describe for VERSION_TAG"; \
    tmp=`(cd . && git describe --always --dirty) \
	   | sed -e 's;\(.*\);#define VERSION_TAG "\1";'`; \
    echo "$tmp" | diff - version_tag.h > /dev/null 2>&1 || echo "$tmp" > version_tag.h || exit 1; \
elif test -r ./release_tag.h; then \
    echo "Using ./release_tag.h for VERSION_TAG"; \
    diff ./release_tag.h version_tag.h > /dev/null 2>&1 || cp ./release_tag.h version_tag.h; \
else \
    echo "Using empty VERSION_TAG"; \
    echo '#define VERSION_TAG ""' > version_tag.h; \
fi
g++ -DHAVE_CONFIG_H -I. -Ilibmisc  -Wall -Wextra -Wshadow   -g -O2 -std=c++11 -MD -c main.cc -o main.o
mv main.d dep/main.d
g++ -rdynamic   -o ivl main.o async.o design_dump.o discipline.o dup_expr.o elaborate.o elab_expr.o elaborate_analog.o elab_lval.o elab_net.o elab_scope.o elab_sig.o elab_sig_analog.o elab_type.o emit.o eval_attrib.o eval_tree.o expr_synth.o functor.o lexor.o lexor_keyword.o link_const.o load_module.o netlist.o netmisc.o nettypes.o net_analog.o net_assign.o net_design.o netclass.o netdarray.o netenum.o netparray.o netqueue.o netscalar.o netstruct.o netvector.o net_event.o net_expr.o net_func.o net_func_eval.o net_link.o net_modulo.o net_nex_input.o net_nex_output.o net_proc.o net_scope.o net_tran.o net_udp.o map_named_args.o pad_to_width.o parse.o parse_misc.o pform.o pform_analog.o pform_disciplines.o pform_dump.o pform_package.o pform_pclass.o pform_types.o symbol_search.o sync.o sys_funcs.o verinum.o verireal.o vpi_modules.o target.o Attrib.o HName.o Module.o PClass.o PDelays.o PEvent.o PExpr.o PFunction.o PGate.o PGenerate.o PModport.o PNamedItem.o PPackage.o PScope.o PSpec.o PTimingCheck.o PTask.o PUdp.o PWire.o Statement.o AStatement.o LineInfo.o StringHeap.o cprop.o exposenodes.o nodangle.o synth.o synth2.o syn-rules.o t-dll.o t-dll-api.o t-dll-expr.o t-dll-proc.o t-dll-analog.o -ldl
gcc -Wall -Wextra -Wshadow -Wstrict-prototypes  -g -O2 -o version.exe -I. -I. ./version.c
./version.exe `head -1 ./iverilog-vpi.man.in`'\n' > iverilog-vpi.man
tail -n +2 ./iverilog-vpi.man.in >> iverilog-vpi.man
sed -e 's;@SHARED@;-shared;' -e 's;@PIC@;-fPIC;' \
    -e 's;@ENABLE_PLI1@;no;' \
    -e 's;@SUFFIX@;;' \
    -e 's;@IVCC@;gcc;' \
    -e 's;@IVCXX@;g++;' \
    -e 's;@IVCFLAGS@;-Wall -Wextra -Wshadow -Wstrict-prototypes  -g -O2;' \
    -e 's;@IVCXXFLAGS@;-Wall -Wextra -Wshadow   -g -O2 -std=c++11;' \
    -e 's;@IVCTARGETFLAGS@;;' \
    -e 's;@INCLUDEDIR@;/usr/local/include/iverilog;' \
    -e 's;@LIBDIR@;/usr/local/lib;' iverilog-vpi.sh > iverilog-vpi
chmod +x iverilog-vpi
make -C ivlpp all &&  make -C vhdlpp all &&  make -C vvp all &&  make -C vpi all &&  make -C tgt-null all &&  make -C tgt-stub all &&  make -C tgt-vvp all &&  make -C tgt-vhdl all &&  make -C tgt-vlog95 all &&  make -C tgt-pcb all &&  make -C tgt-blif all &&  make -C tgt-sizer all &&  make -C driver all &&  true
make[1]: Entering directory '/mnt/y/iverilog/ivlpp'
make[1]: *** No rule to make target '../version_tag.h', needed by 'main.o'.  Stop.
make[1]: Leaving directory '/mnt/y/iverilog/ivlpp'
make: *** [Makefile:134: all] Error 2
